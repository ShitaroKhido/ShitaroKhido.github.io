import{i as e}from"./i18n-CjCvs0Mn.js";document.addEventListener("DOMContentLoaded",async function(){const m=document.querySelector(".feature-grid"),f=document.querySelector(".skill-grid"),h=document.getElementById("search"),r=document.getElementById("filter"),p=document.getElementById("lang-select");let i,g;async function j(){try{const n=await(await fetch("data.json")).json();i=n.projects,g=n.skills,S()}catch(t){console.error("Error fetching data:",t),m.innerHTML="<p>Error loading projects. Please try again later.</p>"}}function S(){document.title=e.t("site.page.title"),document.querySelector(".logo").textContent=e.t("site.logo"),document.querySelector("nav ul li:nth-child(1) a").textContent=e.t("site.nav.home"),document.querySelector("nav ul li:nth-child(2) a").textContent=e.t("site.nav.about"),document.querySelector("nav ul li:nth-child(3) a").textContent=e.t("site.nav.projects"),document.querySelector("nav ul li:nth-child(4) a").textContent=e.t("site.nav.contact"),document.querySelector(".hero h1").dataset.text=e.t("site.hero.title"),document.querySelector(".hero p").textContent=e.t("site.hero.subtitle"),document.querySelector(".hero .btn").textContent=e.t("site.hero.button"),document.querySelector("#projects h2").textContent=e.t("site.sections.projects"),document.querySelector("#about h2").textContent=e.t("site.sections.about"),document.querySelector("#about p").textContent=e.t("site.aboutSection.paragraph"),document.querySelector("#skills h2").textContent=e.t("site.sections.skills"),document.querySelector("#contact h2").textContent=e.t("site.sections.contact"),document.querySelector('input[name="name"]').placeholder=e.t("site.contactForm.namePlaceholder"),document.querySelector('input[name="email"]').placeholder=e.t("site.contactForm.emailPlaceholder"),document.querySelector('textarea[name="message"]').placeholder=e.t("site.contactForm.messagePlaceholder"),document.querySelector(".contact button.btn").textContent=e.t("site.contactForm.button"),document.querySelector("footer p").innerHTML=e.t("site.footer.copyright"),h.placeholder=e.t("site.sections.searchPlaceholder"),F(),v(i),P(),w(e.language)}function F(){const t=new Set;i.forEach(n=>{n.technologies.forEach(o=>t.add(o))}),r.innerHTML=`<option value="all">${e.t("site.sections.allTechnologies")}</option>`,t.forEach(n=>{const o=document.createElement("option");o.value=n,o.textContent=n,r.appendChild(o)})}function v(t){m.innerHTML="",t.forEach(n=>{const{title:o,description:c,technologies:s,image:l}=n,d=document.createElement("div");d.classList.add("feature");const C=document.createElement("img");C.src=l,C.alt=o;const a=document.createElement("div");a.classList.add("feature-content");const k=document.createElement("h3");k.textContent=o;const b=document.createElement("p");b.textContent=c;const y=document.createElement("ul");y.classList.add("technologies"),s.forEach(I=>{const T=document.createElement("li");T.textContent=I,y.appendChild(T)});const u=document.createElement("a");u.href=`details.html?id=${n.id}&lang=${e.language}`,u.textContent=e.t("site.detailsPage.viewDetails"),u.classList.add("project-link"),a.appendChild(k),a.appendChild(b),a.appendChild(y),a.appendChild(u),d.appendChild(C),d.appendChild(a),m.appendChild(d)})}function L(){const t=h.value.toLowerCase(),n=r.value,o=i.filter(c=>{const s=c.title.toLowerCase().includes(t)||c.description.toLowerCase().includes(t),l=n==="all"||c.technologies.includes(n);return s&&l});v(o)}function P(){f.innerHTML="";for(const t in g){const n=document.createElement("div");n.classList.add("skill-category");const o=document.createElement("h3");o.textContent=t;const c=document.createElement("ul");c.classList.add("skill-tags"),g[t].forEach(s=>{const l=document.createElement("li");l.classList.add("skill-tag"),l.textContent=s,c.appendChild(l)}),n.appendChild(o),n.appendChild(c),f.appendChild(n)}}function w(t){p.value=t}e.on("languageChanged",()=>{S()}),p.addEventListener("change",()=>{const t=p.value;e.changeLanguage(t),localStorage.setItem("lang",t)}),h.addEventListener("input",L),r.addEventListener("change",L),j();const q=document.querySelector(".contact form");q.addEventListener("submit",function(t){t.preventDefault(),alert(e.t("site.contactForm.successMessage")),q.reset()});const E=document.querySelector(".nav-toggle"),x=document.querySelector("nav");E&&x&&E.addEventListener("click",()=>{x.classList.toggle("active"),E.classList.toggle("active")})});
